<!DOCTYPE html>
<html lang="pt-br">
    <head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Cadastro De Pedido</title>
		
		<!-- Bootstrap -->
		<link href="css/bootstrap.min.css" rel="stylesheet">
		<link href="css/datepicker.css" rel="stylesheet">

		<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
		  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
		  <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
		<![endif]-->
		
		
    </head>
    <body>
        
		<script type="text/javascript" src="jquery-1.11.1.min.js"></script>
		
		<!-- Include all compiled plugins (below), or include individual files as needed -->
		<script src="js/bootstrap.min.js"></script>
		<script src="js/bootstrap-datepicker.js"></script>
		<script src="js/Pedido.js"></script>
		
		
		<script type="text/javascript">

			$(document).ready(function() {
			
				$('#dp1').datepicker({
					format: 'dd/mm/yyyy'
				});
				 
				 var i=0;
					 $("#add_row").click(function(){
					 
						var html = "<td  class='col-xs-2'>" + 
								 "<select id=ddprod"+i+" class='form-control'>" + 
								  "</select>" + 
							    "</td>" + 
								 "<td><label id=desc"+i+"></label></td>" + 
								 "<td><label id=valor"+i+"></label></td>" + 
								
								"<td class='col-xs-2'>							" + 
								 " <div id=divquant"+i+" class='input-group' style='visibility:hidden;' >" + 
									  "<span class='input-group-btn'>" + 
										"  <button type='button' class='btn btn-default btn-number' disabled='disabled' data-type='minus' data-field='quant["+i+"]'>" + 
										"	  <span class='glyphicon glyphicon-minus'></span>" + 
										 " </button>" + 
									  "</span>" + 
									  "<input type='text' id=idquant"+i+" name='quant["+i+"]' class='form-control input-number' value='1' min='1' max='1000'>" + 
									  "<span class='input-group-btn'>" + 
										"  <button type='button' class='btn btn-default btn-number' data-type='plus' data-field='quant["+i+"]'>" + 
											  "<span class='glyphicon glyphicon-plus'></span>" + 
										  "</button>" + 
									  "</span>" + 
								  "</div>" + 
							    "</td>" + 
								"<td><label id=total"+i+"></label></td>";
					 
					  $('#addr'+i).html(html);//("<td>"+ (i+1) +"</td><td><input name='descricao"+i+"' type='text'  class='form-control input-md'  /> </td><td><input  name='valor"+i+"' type='text'  class='form-control input-md'></td><td><input  name='qtd"+i+"' type='text'   class='form-control input-md'></td><td><input  name='total"+i+"' type='text'  class='form-control input-md'></td>");

					  obterProdutosParaPedido(i);
					  
					  $('#tab_logic').append('<tr id="addr'+(i+1)+'"></tr>');
					  i++; 
					  
					  InsertMinMax();
				  });
					 $("#delete_row").click(function(){
						 if(i>1){
						 $("#addr"+(i-1)).html('');
						 i--;
						 }
					 });
					 
					 
				//InsertMinMax();
			});
			
		</script>
        
        
        
	  <div class="jumbotron jumbotron-sm">
         <div class="container">
          <div class="row">
            <div class="col-sm-8 col-lg-12">
                <h1 class="h1"> RUY Barbosa <small>Projeto de Aplicações Web</small></h1>
            </div>			 
           </div>		 
         </div>
        </div> 
	   
       <div class="container">   
<nav class="navbar navbar-default" role="navigation">
     <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
     <a class="navbar-brand" href="index.html">Home</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="Produto.html">Produto</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Pedidos <b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li class="active"><a href="CadastroPedido.html">Novo</a></li>
            <li><a href="ListagemPedidos.html">Listar</a></li>            
          </ul>
        </li>
       </ul>
	  </div>
	  </div>
	  </nav>	   
    	    <div class="panel panel-default">			
             <div class="panel-heading"><h3 class="panel-title"> Cadastro de Pedido</h3></div>		
               <div class="panel-body">                
                 <div class="form-group">
                    <div class="input-group"> <span class="input-group-addon">CPF</span>
             	       <input id="campoCPF" type="text" class="form-control" placeholder="" >
                    </div>
		           </div>  
       
			
                <div class="form-group">
			       <div class="input-group">        
			         <span class="input-group-addon">Nome</span>
			          <input id="campoNome" type="text" class="form-control" placeholder="">
                  </div>
			      </div>
		
                <div class="form-group">
			       <div class="input-group">
			          <span class="input-group-addon">End. Entrega</span>
			         <input id="campoEnd" type="text" class="form-control" placeholder="">
			       </div>
			      </div>
            
                  <div class="form-group">	        
			        <div class="input-group">
			         <span class="input-group-addon">Data</span>
						<input type="text" class="span2" value="" id="dp1" >
			         
			        </div>
			       </div>
			
			      		
                   <div class="form-group">
			         <a id="add_row" class="btn btn-success pull-left" style="margin-bottom:2%;margin-left:1.33%;"> Adicionar Produto</a>
			        </div>	 
			  
			  
			 
				       <div class="row clearfix">
				         <div class="col-md-11 column">
					      <table class="table table-bordered table-hover table-striped" id="tab_logic">
					       <thead>
						     <tr>
								<th class="text-center">
									Produto
								</th>
								<th class="text-center">
									Descrição
								</th>
								<th class="text-center">
									Valor
								</th>
								<th class="text-center">
									QTD
								</th>
								<th class="text-center">
									Total
								</th>
							 </tr>
						    </thead>
					      <tbody>
							    <tr id='addr0'></tr>
							</tbody>
							</table>
					     </div>
						</div> <!-- Div row clearfix -->
	
				
			
						<div class="form-group">
 						    <div class="input-group">
							  <span class="input-group-addon" class="col-sm-2">Total</span>
								<div class="row" >			      
								 <div class="col-xs-2">	
								   <input id="campoTotal" type="text" class="form-control" placeholder="" disabled='disabled'>
								 </div>
								</div>
							</div> 
						</div>
				
						
						   <div style="float:right">
							 <div class="control-group">
							   <div class="row">
								 <label class="control-label" for="button1id"></label>
								  <div class="controls">						  
									<!-- button onClick="" type="button" class="btn btn-danger glyphicon glyphicon-remove"> Cancelar</button -->
									<button onClick="Salvar()" type="button" class="btn btn-primary glyphicon glyphicon-floppy-disk"> Salvar</button>	  
								  </div>
							    </div>	  
							  </div>
						    </div>
				
			 
				
               </div> <!--Div Panel-body -->
		    </div> <!--Div=panel -->
        </div> <!--Div = Container -->
		
   </body>
</html>